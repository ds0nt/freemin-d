{"ast":null,"code":"var _jsxFileName = \"/Users/jaquelinecoelho/Desktop/good/todo-frontend/src/auth/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\nimport \"../common/Form.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser, faKey } from '@fortawesome/free-solid-svg-icons'; // Login form.\n// Shows form and manages update to state on changes.\n// On submission:\n//  - calls login function prop\n//  - redirects to /habits route\n// Routes -> LoginForm -> Alert\n// Routed as /login\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginForm(_ref) {\n  _s();\n\n  let {\n    login\n  } = _ref;\n  const history = useHistory();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [formErrors, setFormErrors] = useState([]);\n  console.debug(\"LoginForm\", \"login=\", typeof login, \"formData=\", formData, \"formErrors\", formErrors); // Handle form submit:\n  // Calls login function prop and, if successful, redirect to /habits.\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await login(formData);\n    console.log(\"result in login\", result);\n\n    if (result.success) {\n      history.push(\"/habits\");\n    } else {\n      setFormErrors(result.errors);\n    }\n  } // Update form data field\n\n\n  function handleChange(evt) {\n    const {\n      name,\n      value\n    } = evt.target;\n    setFormData(l => ({ ...l,\n      [name]: value\n    }));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"LoginForm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3\",\n        children: \"Hey there!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Username \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faUser,\n                  className: \"mx-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"username\",\n                className: \"form-control\",\n                value: formData.username,\n                onChange: handleChange,\n                autoComplete: \"username\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Password \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faKey,\n                  className: \"mx-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                className: \"form-control\",\n                value: formData.password,\n                onChange: handleChange,\n                autoComplete: \"current-password\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), formErrors.length ? /*#__PURE__*/_jsxDEV(Alert, {\n              type: \"danger\",\n              messages: formErrors\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 23\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary float-right mt-3\",\n              onSubmit: handleSubmit,\n              children: \"Log In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 7\n  }, this);\n}\n\n_s(LoginForm, \"Czm3t1sb3LtnHcgV28OG92wmL00=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/Users/jaquelinecoelho/Desktop/good/todo-frontend/src/auth/LoginForm.js"],"names":["React","useState","useHistory","Alert","FontAwesomeIcon","faUser","faKey","LoginForm","login","history","formData","setFormData","username","password","formErrors","setFormErrors","console","debug","handleSubmit","evt","preventDefault","result","log","success","push","errors","handleChange","name","value","target","l","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\nimport \"../common/Form.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser, faKey } from '@fortawesome/free-solid-svg-icons';\n\n// Login form.\n// Shows form and manages update to state on changes.\n// On submission:\n//  - calls login function prop\n//  - redirects to /habits route\n// Routes -> LoginForm -> Alert\n// Routed as /login\n\nfunction LoginForm({ login }) {\n  const history = useHistory();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  console.debug(\n      \"LoginForm\",\n      \"login=\", typeof login,\n      \"formData=\", formData,\n      \"formErrors\", formErrors,\n  );\n\n  // Handle form submit:\n  // Calls login function prop and, if successful, redirect to /habits.\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await login(formData);\n    console.log(\"result in login\", result);\n    if (result.success) {\n      history.push(\"/habits\");\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  // Update form data field\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData(l => ({ ...l, [name]: value }));\n  }\n\n  return (\n      <div className=\"LoginForm\">\n        <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n          <h3 className=\"mb-3\">Hey there!</h3>\n\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                  <label>Username <FontAwesomeIcon icon={faUser} className=\"mx-2\"/></label>\n                  <input\n                      name=\"username\"\n                      className=\"form-control\"\n                      value={formData.username}\n                      onChange={handleChange}\n                      autoComplete=\"username\"\n                      required\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Password <FontAwesomeIcon icon={faKey} className=\"mx-2\"/></label>\n                  <input\n                      type=\"password\"\n                      name=\"password\"\n                      className=\"form-control\"\n                      value={formData.password}\n                      onChange={handleChange}\n                      autoComplete=\"current-password\"\n                      required\n                  />\n                </div>\n\n                {formErrors.length\n                    ? <Alert type=\"danger\" messages={formErrors} />\n                    : null}\n\n                <button\n                    className=\"btn btn-primary float-right mt-3\"\n                    onSubmit={handleSubmit}\n                >\n                  Log In\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}